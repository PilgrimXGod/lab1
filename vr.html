<!DOCTYPE html>
<html>
<head>
  <title>VR Сцена: Циліндр скочується (Фінальна версія)</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>
  <a-scene background="color: #2E2E2E">
    <!-- 1. Ассети (текстури) -->
    <a-assets>
      <img id="woodTexture" src="assets/wood.jpg" crossorigin="anonymous">
      <img id="metalTexture" src="assets/noise.jpg" crossorigin="anonymous">
    </a-assets>

    <!-- 2. Освітлення -->
    <a-light type="ambient" color="#888"></a-light>
    <a-light type="directional" intensity="1" position="-2 5 3"></a-light>

    <!-- 3. Похила площина -->
    <a-plane
      src="#woodTexture"
      width="8"
      height="4.5"
      position="0 1.5 -5"
      rotation="-30 0 0">
    </a-plane>

    <!-- 4. "Земля" -->
    <a-plane
      rotation="-90 0 0"
      width="20"
      height="20"
      color="#4F4F4F">
    </a-plane>

    <!-- 5. Контейнер для циліндра та сил -->
    <a-entity 
      id="rolling-body"
      animation="property: position; from: 0 2.6 -6.6; to: 0 0.8 -3.1; dur: 5000; easing: easeInQuad; loop: true;">
      
      <!-- Циліндр з правильною анімацією кочення -->
      <a-cylinder
        src="#metalTexture"
        radius="0.4"
        height="1.5"
        rotation="0 0 -90"
        animation__rotation="property: rotation; from: 0 0 -90; to: -1080 0 -90; dur: 5000; easing: linear; loop: true;">
      </a-cylinder>

      <!-- 
        ВЕКТОРИ СИЛ, РОЗСТАВЛЕНІ ПРАВИЛЬНО 
      -->
      <!-- Сила тяжіння (mg) - з центру мас, вертикально вниз -->
      <a-cone color="#ff3333" radius-bottom="0.05" height="1.5" position="0 -0.75 0"></a-cone>
      <a-text value="mg" color="#ff4d4d" position="0.2 -1.6 0" align="left" width="6"></a-text>

      <!-- Сила нормальної реакції (N) - з точки дотику, перпендикулярно площині -->
      <a-cone color="#3366ff" radius-bottom="0.05" height="1.0" position="0 -0.4 0" rotation="-30 0 0"></a-cone>
      <a-text value="N" color="#4d94ff" position="-0.7 0.3 0" align="center" width="6"></a-text>

      <!-- Сила тертя (f) - з точки дотику, паралельно площині, проти руху -->
      <a-cone color="#33cc33" radius-bottom="0.05" height="0.8" position="0 -0.4 0" rotation="-30 180 0"></a-cone>
      <a-text value="f" color="#4dff4d" position="0.7 -0.2 0" align="center" width="6"></a-text>
    </a-entity>

  </a-scene>
</body>
</html>